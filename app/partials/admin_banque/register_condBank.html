<style>
<!--
.bg-info {
    background: #24cfed;
    padding: 3px 8px;
    color: #ffffff;
}
-->
</style>
<div class="content-wrapper" ng-init="app.settings.pagetitle">
	<div class="col-lg-12">
		<section class="box ">
			<header class="panel_header">
				<h2 class="title pull-left" ng-if="selectedBkCondition.idConditionBanque===undefined">
					AJOUTER UNE CONDITION DE BANQUE
				</h2>
				<h2 class="title pull-left" ng-if="selectedBkCondition.idConditionBanque!=undefined">
					MODIFIER UNE CONDITION DE BANQUE
				</h2>
				<div class="actions panel_actions pull-right">
					<i id="box_toggle_more" class="box_toggle material-icons"
						on-load-clicker>expand_more</i>
				</div>
			</header>
			 <div class="content-body" data-ng-controller="ctrlFileBANK">
                <div class="row">
                    <form id="general_validate" action="javascript:;" 
                    name="form" role="form" class="form-validation" 
                    enctype="multipart/form-data">
						<div class="col-lg-8 col-md-8 col-sm-10 col-xs-10 ">
							<div class="form-group">
								<!-- <label class="form-label" for="formfield8">DEVISE <span style="color:#ff8000">*</span></label> -->
								<div class="form-group">
									<label class="form-label" for="formfield1">FAMILLE <span
										style="color: #ff8000">*</span></label>
									<div class="controls">
										<textarea class="form-control" rows="3" cols="5" id="field-6"
											name="famille" ng-model="famille"></textarea>
										<span
											ng-show="form.famille.$submitted && form.famille.$error.required"
											style="color: #ff8000">La famille est obligatoire.</span> <span
											ng-show="form.famille.$touched && form.famille.$error.required"
											style="color: #ff8000">Ce champ est obligatoire.</span>
									</div>
								</div>
							</div>
							<div class="form-group">
								<!-- <label class="form-label" for="formfield8">DEVISE <span style="color:#ff8000">*</span></label> -->
								<div class="form-group">
									<label class="form-label" for="formfield1">CATÉGORIE <span
										style="color: #ff8000">*</span></label>
									<div class="controls">
										<textarea class="form-control" rows="3" cols="5" id="field-6"
											name="categorie" ng-model="categorie"></textarea>
										<span
											ng-show="form.categorie.$submitted && form.categorie.$error.required"
											style="color: #ff8000">La catégorie est obligatoire.</span> <span
											ng-show="form.categorie.$touched && form.categorie.$error.required"
											style="color: #ff8000">Ce champ est obligatoire.</span>
									</div>
								</div>
							</div>
							<div class="form-group">
								<label class="form-label" for="formfield1">NOM <span
									style="color: #ff8000">*</span></label>
								<div class="controls">
									<textarea class="form-control" rows="3" cols="5" id="field-6"
										name="nom" ng-model="nom"></textarea>
									<!-- 									<input type="text" class="form-control" name="nom" -->
									<!-- 										ng-model="nom"></input>  -->
									<span ng-show="form.nom.$submitted && form.nom.$error.required"
										style="color: #ff8000">Le nom est obligatoire.</span> <span
										ng-show="form.nom.$touched && form.nom.$error.required"
										style="color: #ff8000">Ce champ est obligatoire.</span>
								</div>
							</div>
							<div class="form-group">
								<label class="form-label" for="formfield1">TAUX STANDARD
									<span style="color: #ff8000">*</span>
								</label>
								<div class="controls">
									<textarea class="form-control" rows="3" cols="5" id="field-6"
										name="taux" ng-model="taux"></textarea>
									<!-- 									<input type="text" class="form-control" name="taux" -->
									<!-- 										ng-model="taux"></input>  -->
									<span
										ng-show="form.taux.$submitted && form.taux.$error.required"
										style="color: #ff8000">Le taux standard est
										obligatoire.</span> <span
										ng-show="form.taux.$touched && form.taux.$error.required"
										style="color: #ff8000">Ce champ est obligatoire.</span>
								</div>
							</div>
							<div class="form-group">
								<label class="form-label" for="formfield1">PRODUIT <span
									style="color: #ff8000">*</span></label>
								<div class="controls">
									<select name="produit" class="form-control" ng-model="produit"
										required
										ng-options="produit as produit.nom for produit in etreasuryProduit | 
										orderBy:'nom' track by produit.idProduits">
									</select> <span
										ng-show="form.produit.$submitted && form.produit.$error.required"
										style="color: #ff8000">Le nom du produit est
										obligatoire.</span> <span
										ng-show="form.produit.$touched && form.produit.$error.required"
										style="color: #ff8000">Ce champ est obligatoire.</span>
								</div>
							</div>
							<div class="form-group">
								<div class='row'>
									<div class="col-xs-12" style="height:auto">
											<div class='row'>
                                                    <div class="col-xs-12 " style="width:auto">
                                                        <label class="form-label" for="field-1">FICHIER <span style="color:#ff8000"></span></label>
                                                        <div style="margin-top: 15px;"></div>
                                                        <a target="_blank" href="{{urlCSV}}" ng-if="boolFile"><span>{{nomFile}}</span></a>
                                                        <span ng-if="boolFile">&nbsp;&nbsp;Voulez-vous changer le fichier?</span>
                                                        <div style="margin-top: 5px;" ng-if="boolFile">
										                    <div class='row'>
										                    	<div class="col-xs-6">
										                    	</div>
																<div class="col-xs-6">
																	<div class="col-xs-6" style="width: auto">
																		<div class="radio" style="cursor: pointer;">
																			<label> <input style="width: 15px; height: 15px"
																				name="voir" ng-click="ShowTable('Y')" type="radio"
																				ng-value="1" ng-model="doc"> OUI
																			</label>
																		</div>
																	</div>
																	<div class="col-xs-6" style="width: auto">
																		<div class="radio" style="cursor: pointer;">
																			<label> <input style="width: 15px; height: 15px"
																				name="voir" ng-click="ShowTable('N')" ng-model="doc"
																				ng-value="2" type="radio"> NON
																			</label>
																		</div>
																	</div>
										
																</div>
															</div>
									                    </div>
                                                    </div>
                                                    <div class="col-xs-4 " style="width:auto" ng-show="IsVisible || boolFile===false">
<!--                                                     	<input type="file" files-input ng-model="fileDocbk" ng-click="upload()"/> -->
                                                        <input type="file" files-input id="payloadFile" ng-click="upload()" name="filedocnam"
                                                        onchange="angular.element(this).scope().setFile(this)" 
                                                        ng-model="fileDocbk"></input>
                                                        
                                                        <span ng-show="fileDocbk.size>5242880" style="color:#ff8000">la taille du fichier doit être inférieure à 5Mo.</span>
                                                    </div>
													<span ng-show="isPdf" style="color:#ff8000">{{FileMessage}}</span>
                                            </div>
											<br>
											<div class='row'>
												<div class="col-xs-4 " style="width:auto">
                                                </div>
												<div class="col-xs-4 " style="width:auto">
                                                </div>
												<div class="col-xs-6">
													<div class="form-group">
														<button ng-if="false" type="button" class="btn btn-warning btn-xs" ng-click="item.cancel()" ng-disabled="!item.isUploading">
															<span class="glyphicon glyphicon-ban-circle"></span> Annuler
														</button>
														<button ng-if="false" type="button" class="btn btn-danger btn-xs" ng-click="item.remove()">
															<span class="glyphicon glyphicon-trash"></span> supprimer
														</button>
													</div>
												</div>
											</div>
                                    </div>
								</div>
								<div class="controls">
                                </div>
                            </div>
<!-- 							<div class="form-group"> -->
<!-- 											<div class='row'> -->
<!--                                                     <div class="col-xs-4 " style="width:auto"> -->
<!--                                                         <label class="form-label" for="field-1">FICHIER <span style="color:#ff8000">*</span></label> -->
<!--                                                     </div> -->
<!--                                                     <div class="col-xs-4 " style="width:auto"> -->
<!--                                                         <input type="file" id="payloadFile" name="filedocnam" -->
<!--                                                         onchange="angular.element(this).scope().setFile(this)"  -->
<!--                                                         ng-model="fileBank"></input> -->
<!--                                                         <span ng-show="fileBank.size>5242880" style="color:#ff8000">la taille du fichier doit être inférieure à 5Mo.</span> -->
<!--                                                     </div> -->
<!-- 													<span ng-show="isPdf" style="color:#ff8000">{{FileMessage}}</span> -->
<!--                                             </div> -->
<!-- 							</div> -->
							<div class="form-group">
								<div class="col-md-12 col-sm-12 col-xs-12">
									<div style="text-align: center;">
									<img id="mySpinner" src="{{spinner}}" ng-show="loading" />&nbsp;&nbsp;&nbsp;
										<button type="submit" 
											ng-if="selectedBkCondition.idConditionBanque===undefined"
											ng-click="submitBanqueCondition(nom,famille,categorie,taux,produit,fileDocbk)"
											ng-disabled="form.$invalid || disabl" class="btn btn-success">Valider</button>
											<button type="submit" 
											ng-if="selectedBkCondition.idConditionBanque!=undefined"
											ng-click="updateBanqueCondition(nom,famille,categorie,taux,produit,fileDocbk)"
											ng-disabled="form.$invalid || disabl" class="btn btn-success">Valider</button>
										<button style="background: #ff8000;" ng-click="cancel()"
											type="button" class="btn">Annuler</button>
									</div>
								</div>
							</div>
							<div class="form-group">
								<div class="col-md-12 col-sm-12 col-xs-12">
									<div class="text-left">
										<span style="color: #ff8000" ng-show="form.$invalid">*
											Veuillez renseigner les champs obligatoires.</span>
									</div>
									<div ng-if="errorMessage!=null" style="color: #ff8000">
											<span>{{errorMessage}}</span>
										</div>
										<div ng-if="sucessMessage!=null" style="color: #1f93f6">
											<span>{{sucessMessage}}</span>
										</div>
								</div>
							</div>
						</div>
					</form>
				</div>
			</div>
		</section>
	</div>
</div>
