<div class='content-wrapper' ng-init="app.settings.pagetitle = 'VALIDATIONS';">
    <div class="col-lg-12 col-md-12 col-xs-12 col-sm-12">
        <section class="box ">
            <header class="panel_header">
                <h2 class="title pull-left" ng-if="selectedNotific.institution===undefined">Ajouter paramètrage chaîne de validation</h2>
                <h2 class="title pull-left" ng-if="selectedNotific.institution!=undefined">Modifier paramètrage chaîne de validation</h2>
                <div class="actions panel_actions pull-right">
                    <i id="box_toggle_more" class="box_toggle material-icons" style="color: #1065a8" on-load-clicker>expand_more</i>
                </div>
            </header>
            <div class="content-body">
                <form id="general_validate" action="javascript:;" name="form" class="form-validation">
                    <!-- START -->
                    <br>
                    <div class='row'>
                        <div class="col-xs-6">
                            <div class="form-group">
                                <label class="form-label" for="formfield1">PRODUIT <span
									style="color: #ff8000">*</span></label>
                                <div class="controls">
                                    <select name="produit" class="form-control" ng-model="produit" required ng-disabled="selectedNotific.institution!=undefined" ng-options="produit as produit.nom for produit in etreasuryProduit 
										track by produit.idProduits">
									</select> <span ng-show="form.produit.$submitted && form.produit.$error.required" style="color: #ff8000">Le nom du produit est
										obligatoire.</span> <span ng-show="form.produit.$touched && form.produit.$error.required" style="color: #ff8000">Ce champ est obligatoire.</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <br>
                    <div class='row'>
                        <div class="col-xs-8">
                            <div class="form-group">
                                <label class="form-label" for="formfield1">UTILISATEURS <span
									style="color: #ff8000">*</span></label>
                                <div class="controls">
                                    <div style="height: 200px; overflow: auto; margin-top:15px;" ng-if="selectedNotific.institution==undefined">
                                        <table id="tdj" style="width: 100%;" class="table table-striped table-bordered" cellspacing="0">
                                            <thead>
                                                <tr>
                                                    <th>CHOIX</th>
                                                    <th>NOM & PRENOMS</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr ng-repeat="user in listEntUsers">
                                                    <td><input id="checkbxinput" style="color: #1065a8; cursor: pointer; width: 15px; height: 15px" type="checkbox" value="{{user.idUtilisateur}}" ng-checked="selectionb.indexOf(user.idUtilisateur) > -1" ng-click="changeUser(user.idUtilisateur)"
                                                            class="input-sm" />
                                                    </td>
                                                    <td>{{user.prenom}} {{user.nom}}</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div style="margin-top:15px;" ng-if="selectedNotific.institution!=undefined">
                                        <select name="userBank" class="form-control" ng-model="userEntrepris" ng-change="changeUserEn(userEntrepris)" ng-options="userEntrepris as userEntrepris.prenom +' '+ userEntrepris.nom for userEntrepris in listEntUsers | 
  											orderBy:'prenom' track by userEntrepris.idUtilisateur">
 										</select>
                                    </div>
                                    <!-- 									<select name="banqueNotif" id="bank" class="form-control" -->
                                    <!-- 										ng-disabled="selectedNotific.institution!=undefined" -->
                                    <!-- 										ng-options="banqueNotif as banqueNotif.nom for banqueNotif in bankLocal -->
                                    <!-- 										track by banqueNotif.idInstitution" -->
                                    <!-- 										ng-model="banqueNotif" ng-change="listBankUsers( banqueNotif )" required> -->
                                    <!-- 									</select> <span -->
                                    <!-- 										ng-show="form.banqueNotif.$submitted && form.banqueNotif.$error.required" -->
                                    <!-- 										style="color: #ff8000">Le nom de la banque est -->
                                    <!-- 										obligatoire.</span> <span -->
                                    <!-- 										ng-show="form.banqueNotif.$touched && form.banqueNotif.$error.required" -->
                                    <!-- 										style="color: #ff8000">Ce champ est obligatoire.</span> -->
                                </div>
                            </div>
                        </div>
                    </div>
                    <br>
                    <div class='row' ng-if="false">
                        <div class="col-xs-12" style="height: auto">
                            <label class="form-label" for="field-1">NOTIFIER PAR SMS</label>
                            <div class='row'>
                                <div class="col-xs-12" style="height: auto">
                                    <div class="col-xs-4 " style="width: auto">
                                        <div class="radio" style="cursor: pointer;">
                                            <label> <input style="width: 15px; height: 15px"
												type="radio" value="request" ng-model="oui"> Oui
											</label>
                                        </div>
                                    </div>
                                    <div class="col-xs-4 " style="width: auto">
                                        <div class="radio" style="cursor: pointer;">
                                            <label> <input style="width: 15px; height: 15px"
												type="radio" value="offer" ng-model="non"> Non
											</label>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                    <br>
                    <div class='row' ng-if="selectedNotific.institution===undefined">
                        <!-- 						<div class="col-xs-6" style="height: 150px; overflow: auto;"> -->
                        <!-- 							<table id="tdj" style="width: 100%;" -->
                        <!-- 								class="table table-striped table-bordered" cellspacing="0"> -->
                        <!-- 								<tbody> -->
                        <!-- 									<tr ng-repeat="user in bankUsers"> -->
                        <!-- 										<td><input id="checkbxinput" -->
                        <!-- 											style="color: #1065a8; cursor: pointer; width: 15px; height: 15px" -->
                        <!-- 											type="checkbox" value="{{user.idUtilisateur}}" -->
                        <!-- 											ng-checked="selectionb.indexOf(user.idUtilisateur) > -1" -->
                        <!-- 											ng-click="changeUser(user.idUtilisateur)" class="input-sm" /> -->
                        <!-- 											</td> -->
                        <!-- 										<td>{{user.prenom}} {{user.nom}}</td> -->
                        <!-- 									</tr> -->
                        <!-- 								</tbody> -->
                        <!-- 							</table> -->
                        <!-- 						</div> -->
                    </div>
                    <!-- 					<div class='row' ng-if="selectedNotific.institution!=undefined"> -->
                    <!-- 						<div class="col-xs-6"> -->
                    <!-- 							<div class="form-group"> -->
                    <!-- 								<label class="form-label" for="formfield1">UTILISATEUR <span -->
                    <!-- 									style="color: #ff8000">*</span></label> -->
                    <!-- 								<div class="controls"> -->
                    <!-- 									<select name="userBank" class="form-control" ng-model="userBnk" -->
                    <!-- 										ng-options="userBnk as userBnk.prenom +' '+ userBnk.nom for userBnk in bankUsers  -->
                    <!-- 										track by userBnk.idUtilisateur" required> -->
                    <!-- 									</select>  -->
                    <!-- <!-- 									<select name="userBk" class="form-control" ng-model="userBk" -->
                    <!-- <!-- 										required -->
                    <!-- <!-- 										ng-options="userBk as userBk.prenom +' '+ userBk.nom for userBk in bankUsers  -->
                    <!-- <!-- 										track by userBk.idUtilisateur"> -->
                    <!-- <!-- 									</select>  -->
                    <!-- 									<span -->
                    <!-- 										ng-show="form.userBank.$submitted && form.userBank.$error.required" -->
                    <!-- 										style="color: #ff8000">Le nom de l'utilisateur est -->
                    <!-- 										obligatoire.</span> <span -->
                    <!-- 										ng-show="form.userBk.$touched && form.userBk.$error.required" -->
                    <!-- 										style="color: #ff8000">Ce champ est obligatoire.</span> -->
                    <!-- 								</div> -->
                    <!-- 							</div> -->
                    <!-- 						</div> -->
                    <!-- 					</div> -->
                    <br>
                    <br>
                    <div class='row'>
                        <div class="col-xs-12"></div>
                    </div>
                    <br>
                    <div class='row'>
                        <div class="col-xs-12">
                            <div style="text-align: center;">
                                <img id="mySpinner" src="{{spinner}}" ng-show="loading" />&nbsp;&nbsp;&nbsp;
                                <button type="submit" ng-click="submitNotif(userEntrepris)" ng-disabled="form.$invalid || disabl" class="btn btn-success">VALIDER</button> &nbsp; &nbsp;
                                <button type="button" ng-click="cancel()" class="btn" style="background: #ff8000;">ANNULER</button>
                            </div>
                        </div>
                    </div>
                    <br>
                    <div class='row'>
                        <div class="col-xs-12">
                            <span style="color: #ff8000" ng-show="form.$invalid">*
								Veuillez renseigner les champs obligatoires</span>
                        </div>
                        <div ng-if="errorMessage!=null" style="color: #ff8000">
                            <span>{{errorMessage}}</span>
                        </div>
                        <div ng-if="sucessMessage!=null" style="color: #1f93f6">
                            <span>{{sucessMessage}}</span>
                        </div>
                    </div>
                    <!-- END -->
                </form>
            </div>
        </section>
    </div>
</div>